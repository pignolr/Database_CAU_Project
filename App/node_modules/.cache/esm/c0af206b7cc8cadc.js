let sync,Router;_7cc‍.w("glob",[["sync",["sync"],function(v){sync=v}]]);_7cc‍.w("express",[["Router",["Router"],function(v){Router=v}]]);


module.exports = () => sync('**/*.js', { cwd: `${__dirname}/` })
    .map(filename => require(`./${filename}`))
    .filter(router => Object.getPrototypeOf(router) == Router)
    .reduce((rootRouter, router) => rootRouter.use(router), Router({ mergeParams: true }))
